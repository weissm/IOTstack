



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Docker stack for getting started on IOT on the Raspberry PI">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.14">
    
    
      
        <title>Node-RED - IOTstack</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.d3202873.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#node-red" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="IOTstack" class="md-header-nav__button md-logo" aria-label="IOTstack">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            IOTstack
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Node-RED
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." class="md-tabs__link">
        IOT Stack
      </a>
    
  </li>

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../Adminer/" class="md-tabs__link md-tabs__link--active">
          Containers
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="IOTstack" class="md-nav__button md-logo" aria-label="IOTstack">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    IOTstack
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="IOT Stack" class="md-nav__link">
      IOT Stack
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Accessing-your-Device-from-the-internet/" title="Accessing your device from the internet" class="md-nav__link">
      Accessing your device from the internet
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Backups/" title="Backups" class="md-nav__link">
      Backups
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Custom/" title="Custom services and overriding default settings for IOTstack" class="md-nav__link">
      Custom services and overriding default settings for IOTstack
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Docker-commands/" title="Docker commands" class="md-nav__link">
      Docker commands
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Getting-Started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Home/" title="Wiki" class="md-nav__link">
      Wiki
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../How-the-script-works/" title="How the script works" class="md-nav__link">
      How the script works
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Misc/" title="Miscellaneous" class="md-nav__link">
      Miscellaneous
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Native-RTL_433/" title="Native RTL_433" class="md-nav__link">
      Native RTL_433
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Networking/" title="Networking" class="md-nav__link">
      Networking
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../RPIEasy_native/" title="RPIEasy" class="md-nav__link">
      RPIEasy
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Understanding-Containers/" title="Let’s begin by understanding, What is Docker?" class="md-nav__link">
      Let’s begin by understanding, What is Docker?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Updating-the-Project/" title="Updating the project" class="md-nav__link">
      Updating the project
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15" checked>
    
    <label class="md-nav__link" for="nav-15">
      Containers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Containers" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        <span class="md-nav__icon md-icon"></span>
        Containers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Adminer/" title="Adminer" class="md-nav__link">
      Adminer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Blynk_server/" title="Blynk server" class="md-nav__link">
      Blynk server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../EspruinoHub/" title="Espruinohub" class="md-nav__link">
      Espruinohub
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Grafana/" title="Grafana" class="md-nav__link">
      Grafana
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Home-Assistant/" title="Home assistant" class="md-nav__link">
      Home assistant
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../InfluxDB/" title="InfluxDB" class="md-nav__link">
      InfluxDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../MariaDB/" title="MariaDB" class="md-nav__link">
      MariaDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Mosquitto/" title="Mosquitto" class="md-nav__link">
      Mosquitto
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../MotionEye/" title="MotionQye" class="md-nav__link">
      MotionQye
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../NextCloud/" title="Next Cloud" class="md-nav__link">
      Next Cloud
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Node-RED
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" title="Node-RED" class="md-nav__link md-nav__link--active">
      Node-RED
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-warning" class="md-nav__link">
    Build warning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sqlite" class="md-nav__link">
    SQLite
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpio" class="md-nav__link">
    GPIO
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#securing-node-red" class="md-nav__link">
    Securing Node-RED
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sharing-files-between-node-red-and-the-host" class="md-nav__link">
    Sharing files between Node-RED and the host
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-bluetooth" class="md-nav__link">
    Using Bluetooth
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unused-node-in-protainer" class="md-nav__link">
    Unused node in Protainer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-exec-node-against-the-host-pi" class="md-nav__link">
    Running the exec node against the host Pi
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Pi-hole/" title="Pi-hole" class="md-nav__link">
      Pi-hole
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Plex/" title="Plex" class="md-nav__link">
      Plex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Portainer-agent/" title="Portainer agent" class="md-nav__link">
      Portainer agent
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Portainer/" title="Portainer" class="md-nav__link">
      Portainer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../PostgreSQL/" title="PostgreSQL" class="md-nav__link">
      PostgreSQL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Python/" title="Python" class="md-nav__link">
      Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../RTL_433-docker/" title="RTL_433 Docker" class="md-nav__link">
      RTL_433 Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../TasmoAdmin/" title="TasmoAdmin" class="md-nav__link">
      TasmoAdmin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Zigbee2MQTT/" title="Zigbe2MQTT" class="md-nav__link">
      Zigbe2MQTT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deconz/" title="deCONZ" class="md-nav__link">
      deCONZ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../diyHue/" title="DIY hue" class="md-nav__link">
      DIY hue
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../openHAB/" title="Openhab" class="md-nav__link">
      Openhab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../x2go/" title="x2go" class="md-nav__link">
      x2go
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-warning" class="md-nav__link">
    Build warning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sqlite" class="md-nav__link">
    SQLite
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpio" class="md-nav__link">
    GPIO
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#securing-node-red" class="md-nav__link">
    Securing Node-RED
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sharing-files-between-node-red-and-the-host" class="md-nav__link">
    Sharing files between Node-RED and the host
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-bluetooth" class="md-nav__link">
    Using Bluetooth
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unused-node-in-protainer" class="md-nav__link">
    Unused node in Protainer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-exec-node-against-the-host-pi" class="md-nav__link">
    Running the exec node against the host Pi
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="node-red">Node-RED</h1>
<h2 id="references">References</h2>
<ul>
<li><a href="https://hub.docker.com/r/nodered/node-red">Docker</a></li>
<li><a href="https://nodered.org/">website</a></li>
</ul>
<h2 id="build-warning">Build warning</h2>
<p>The Node-RED build will complain about several issues. This is completely normal behaviour.</p>
<h2 id="sqlite">SQLite</h2>
<p>Thanks to @fragolinux the SQLite node will install now. <strong>WARNING it will output many error and will look as if it has gotten stuck. Just give it time and it will continue.</strong> </p>
<h2 id="gpio">GPIO</h2>
<p>To communicate to your Pi's GPIO you need to use the <code>node-red-node-pi-gpiod</code> node. It allowes you to connect to multiple Pis from the same nodered service.</p>
<p>You need to make sure that pigpdiod is running. The recommended method is listed <a href="https://github.com/node-red/node-red-nodes/tree/master/hardware/pigpiod">here</a>
You run the following command <code>sudo nano /etc/rc.local</code> and add the line <code>/usr/bin/pigpiod</code> above <code>exit 0</code> and reboot the Pi. There is an option to secure the service see the writeup for further instuctions.</p>
<p>Fot the Rpi Image you will also need to update to the most recent version </p>
<pre><code>sudo apt-get update
sudo apt-get install pigpio python-pigpio python3-pigpio
</code></pre>

<p>Drop the gpio node and use your Pi's IP. Example: 192.168.1.123 (127.0.0.1 won't work because this is the local address of every computer'.)</p>
<h2 id="securing-node-red">Securing Node-RED</h2>
<p>To secure Node-RED you need a password hash. There is a terminal script <code>./services/nodered/terminal.sh</code> execute it to get into the terminal.
Copy the helper text <code>node -e ..... PASSWORD</code>, paste it and change your password to get a hash.</p>
<p>Open the file <code>./volumes/nodered/data/settings.js</code> and follow the writeup on https://nodered.org/docs/user-guide/runtime/securing-node-red for further instructions</p>
<h2 id="sharing-files-between-node-red-and-the-host">Sharing files between Node-RED and the host</h2>
<p>Containers run in a sandboxed environment they can't see the host (the Pi itself) file system. This presents a problem if you want to read a file directly to the host from inside the container. Fortunately there is a method, the containers have been set up with volume mapping. The volume maps a specific directory or file from the host file system into the container. Therefore if you write to that directory both the host and the container can see the files.</p>
<p>Consider the following:</p>
<p>The docker-compose.yml file shows the following for Node-RED</p>
<pre><code>    volumes:
      - ./volumes/nodered/data:/data
</code></pre>

<p>If inside Node-RED you were to write to the <code>/data</code> folder then the host would see it in <code>~/IOTstack/volumes/nodered/data</code> (the ./volumes above implies relative to the docker-compose.yml file)</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/46672225/68073532-e2e51b80-fd99-11e9-955e-3f27e1c57998.png" /></p>
<p>The flow writes the file <code>/data/test.txt</code> and it is visible in the host as <code>~/IOTstack/volumes/nodered/data/test.txt</code></p>
<p>Remember, files and directories in the volume are persistent between restarts. If you save your data elsewhere it will be destroyed should you restart. Creating a subdirectory in volume i.e. <code>/data/storage/</code> would be advised</p>
<h2 id="using-bluetooth">Using Bluetooth</h2>
<p>In order to allow Node-RED to access the Pi's Bluetooth module the docker-comose.yml file needs to be modified to allow it access. <code>network_mode: "host"</code> needs to be added (make sure the indentation is correct, us spaces not tabs):</p>
<pre><code>  nodered:
    container_name: nodered
    build: ./services/nodered/.
    restart: unless-stopped
    user: &quot;0&quot;
    network_mode: &quot;host&quot;
</code></pre>

<p>By activating host mode the Node-RED container can no longer access containers by name <code>http://influxdb:8086</code> will no longer work. Node-RED thinks it now is the host and therefore access to the following services will look as follows:
* influxdb <code>http://127.0.0.1:8086</code>
* GPIO <code>127.0.0.1</code> port <code>8888</code>
* MQTT <code>127.0.0.1</code></p>
<h2 id="unused-node-in-protainer">Unused node in Protainer</h2>
<p>Portainer will report that the nodered image is unsed, this is normal due to the method used build the image. This is normal behavior. It is not advised to remove it as it is used as the base for the iotstack_nodered image, you will need to redownload it should you rebuild the nodered image.</p>
<p><img width="1444" alt="UnusedImage" src="https://user-images.githubusercontent.com/34226495/69213978-cd555b80-0bb9-11ea-8734-1c42ff52bf7d.png"></p>
<h2 id="running-the-exec-node-against-the-host-pi">Running the exec node against the host Pi</h2>
<p>Due to the isolation between containers and the host the exec node will run against the container.</p>
<p>There is a solution to work around this. You can use ssh to execute a script on the pi. It requires a little setup but is possible.</p>
<p>For this example I'll be running a simple script called test.sh
I create a file called test.sh in my IOTstack directory with nano</p>
<p>The contents are as follows:</p>
<pre><code class="bash">#!/bin/bash
echo &quot;hello&quot;
exit 0
</code></pre>

<p>The exit 0 will stop the exec node from reporting an issue.</p>
<p>Its a good idea to add the shebang at the top. make it executable with <code>chmod +x test.sh</code></p>
<p>This nodered running open the nodered terminal with <code>./services/nodered/terminal.sh</code> or <code>docker exec -it nodered /bin/bash</code> or use portainer</p>
<p>create the ssh folder in the data directory (the /data directory is persistently mapped volume)</p>
<p><code>mkdir -p /data/ssh</code></p>
<p>create key, this will require naming the output file</p>
<p><code>ssh-keygen -f /data/ssh/nodered</code> put in any additional config you want key type strength
copy the key to the Pi. When asked for a password leave it blank</p>
<p>copy the ssh-key to your pi</p>
<p><code>ssh-copy-id -i /data/ssh/nodered pi@192.168.x.x</code> replace with your static IP address. You will have to reply yes to the prompt. You may also see an error referring to regular expressions however you can ignore it.</p>
<p>now to execute a script on the pi run <code>ssh -i /data/ssh/nodered pi@192.168.x.x /home/pi/IOTstack/test.sh</code></p>
<p>type exit to leave the terminal</p>
<p>(you could also restart your pi with <code>ssh -i /data/ssh/nodered pi@192.168.x.x sudo reboot</code>)</p>
<p>in node red in your exec node you can run the command <code>ssh -i /data/ssh/nodered pi@192.168.x.x /home/pi/IOTstack/test.sh</code> other the script or command of your choice</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/46672225/70431264-55c27000-1a85-11ea-8706-b087dc39479d.png" /></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../NextCloud/" title="Next Cloud" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Next Cloud
              </div>
            </div>
          </a>
        
        
          <a href="../Pi-hole/" title="Pi-hole" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Pi-hole
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.2d1db4bd.min.js"></script>
      <script src="../../assets/javascripts/bundle.6627ddf3.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: ['tabs'],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>